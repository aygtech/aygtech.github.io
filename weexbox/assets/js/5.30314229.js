(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{211:function(t,s,a){t.exports=a.p+"assets/img/flutter sdk.c1fffecb.png"},212:function(t,s,a){t.exports=a.p+"assets/img/dart_sdk.fccc1f7f.png"},213:function(t,s,a){t.exports=a.p+"assets/img/flutter1.ab9c5508.png"},214:function(t,s,a){t.exports=a.p+"assets/img/flutter2.3046387b.png"},215:function(t,s,a){t.exports=a.p+"assets/img/routerManage.31e65f74.png"},228:function(t,s,a){"use strict";a.r(s);var e=a(28),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"flutter-初体验"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#flutter-初体验"}},[t._v("#")]),t._v(" Flutter 初体验")]),t._v(" "),e("h2",{attrs:{id:"为何使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为何使用"}},[t._v("#")]),t._v(" 为何使用")]),t._v(" "),e("p",[t._v("针对原生开发面临的问题，人们一直都在努力寻找好的解决方案，时至今日，已经有很多跨平台框架(主要指Android和iOS两个平台)，根据其原理，主要分为三类：")]),t._v(" "),e("ul",[e("li",[t._v("H5 + 原生（Cordova、Ionic）")]),t._v(" "),e("li",[t._v("JavaScript开发 + 原生渲染（ReactNative、Weex）")]),t._v(" "),e("li",[t._v("自绘UI + 原生 (Flutter)")])]),t._v(" "),e("p",[t._v("针对以上几种跨平台的方案，每个框架都有其优缺点，在我们的项目中，也都曾尝试过，也踩过无数的坑。近期爱收入开发天团初体验了flutter并成功上线，发现了它的美，迫不及待地分享给大家。")]),t._v(" "),e("h2",{attrs:{id:"weexbox中使用flutter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#weexbox中使用flutter"}},[t._v("#")]),t._v(" WeexBox中使用flutter")]),t._v(" "),e("h3",{attrs:{id:"安装环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装环境"}},[t._v("#")]),t._v(" 安装环境")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://flutter.dev/docs/get-started/install",target:"_blank",rel:"noopener noreferrer"}},[t._v("flutter SDK安装"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("根据flutter官网配置环境变量")])]),t._v(" "),e("h3",{attrs:{id:"创建项目"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建项目"}},[t._v("#")]),t._v(" 创建项目")]),t._v(" "),e("ul",[e("li",[t._v("weexBox可以通过命令行创建包含weex与flutter的混合项目：")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 新建一个weex和flutter混合工程")]),t._v("\nweexbox create project-name -f\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),e("p",[t._v("flutter章节是基于Android studio开发环境所写")])]),t._v(" "),e("h3",{attrs:{id:"运行项目"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行项目"}},[t._v("#")]),t._v(" 运行项目")]),t._v(" "),e("p",[t._v("运行项目之前，需要先用Android Studio打开flutter_module项目，该项目在platforms文件夹下，与Android、ios项目同级。因为原生项目需要将flutter文件打包到apk里面，需要先确保flutter项目环境没有问题。打开flutter_module项目后配置好flutter与dart安装路径，如下图：")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("flutter sdk\n"),e("img",{attrs:{src:a(211)}})])]),t._v(" "),e("li",[e("p",[t._v("dart sdk\n"),e("img",{attrs:{src:a(212)}}),t._v("\n然后同步环境后运行该项目，编译一段时间后，生成apk成功（注意apk生成成功，不成功说明你的flutter环境有问题，请检查是否缺少了某个步骤），安装apk成功后，打开apk，Console将会报错，因为该flutter项目并不是一个纯项目，而是我们原生项目的一个依赖。接下来就可以直接运行原生项目。")])]),t._v(" "),e("li",[e("p",[t._v("项目结构")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("目录与文件")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("android")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("flutter与Android工程相关")])]),t._v(" "),e("tr",[e("td",[t._v("ios")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("flutter与iOS工程相关")])]),t._v(" "),e("tr",[e("td",[t._v("lib")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("flutter核心代码")])]),t._v(" "),e("tr",[e("td",[t._v("pubspec.yaml")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("flutter依赖的配置文件")])])])])])]),t._v(" "),e("img",{attrs:{src:a(213)}}),t._v(" "),e("ul",[e("li",[t._v("配置文件 pubspec.yaml")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("version"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 环境，flutter的sdk版本在此之间")]),t._v("\nenvironment"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n  sdk"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('">=2.2.2 <3.0.0"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 依赖库  ")]),t._v("\ndependencies"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n  flutter"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n    sdk"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" flutter\n  cupertino_icons"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),t._v("\n  flutter_spinkit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^3.1.0"')]),t._v("\n  flutter_easyrefresh"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.2")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v(".7")]),t._v("\n  common_utils"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v(".3")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 测试环境的依赖库")]),t._v("\ndev_dependencies"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n  flutter_test"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n    sdk"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" flutter\nflutter"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n  uses"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("material"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("design"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 图片配置 weexbox refimg / weexbox refimg -d (自动创建基于配置信息的dart文件) 已实现自动导入图片配置")]),t._v("\n  assets"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n     "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" images"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("icon_expert_help_1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("png\n     "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" images"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("icon_expert_help_2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("png\n     "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" images"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("icon_expert_help_3"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("png\n")])])]),e("h2",{attrs:{id:"原生通信"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#原生通信"}},[t._v("#")]),t._v(" 原生通信")]),t._v(" "),e("p",[t._v("对于某些需要调用原生硬件的需求，flutter不可避免的需要和原生端进行通信，flutter提供了3种通信通道。在weexbox中，已经写好了通信通道，并且根据不同情况选好不同的通道。")]),t._v(" "),e("ul",[e("li",[t._v("核心类\n"),e("table",[e("thead",[e("tr",[e("th",[t._v("类名")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("BasicMessageChannel")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("用于传递数据。Flutter与原生项目的资源是不共享的，可以通过BasicMessageChannel来获取Native项目的图标等资源。")])]),t._v(" "),e("tr",[e("td",[t._v("MethodChannel")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("传递方法调用。Flutter主动调用Native的方法，并获取相应的返回值。比如获取系统电量，发起Toast等调用系统API，可以通过这个来完成。")])]),t._v(" "),e("tr",[e("td",[t._v("EventChannel")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("传递事件。这里是Native将事件通知到Flutter。比如Flutter需要监听网络情况，这时候MethodChannel就无法胜任这个需求了。EventChannel可以将Flutter的一个监听交给Native，Native去做网络广播的监听，当收到广播后借助EventChannel调用Flutter注册的监听，完成对Flutter的事件通知")])])])])])]),t._v(" "),e("h3",{attrs:{id:"flutter调用原生提供的方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#flutter调用原生提供的方法"}},[t._v("#")]),t._v(" flutter调用原生提供的方法")]),t._v(" "),e("p",[t._v("需要原生端先提供方法的实现，再在flutter进行调用。")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("原生提供方法")]),t._v(" "),e("p",[t._v("建议使用者在继承WBFlutterActivity的基类Activity中重写以下方法，或者在WBFlutterActivity中直接修改。")])])]),t._v(" "),e("div",{staticClass:"language-kotlin extra-class"},[e("pre",{pre:!0,attrs:{class:"language-kotlin"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 子类重载此方法，就可以添加自己的method")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("open")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fun")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("flutterMethodCall")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("call"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" MethodCall"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" MethodChannel"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" method "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" call"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("method\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" arguments "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" call"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arguments "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" Map"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("String"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Any"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?:")]),t._v(" TreeMap"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("String"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Any"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("when")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("method"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"methodName"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("ul",[e("li",[t._v("flutter调用原生方法")])]),t._v(" "),e("div",{staticClass:"language-dart extra-class"},[e("pre",{pre:!0,attrs:{class:"language-dart"}},[e("code",[t._v("ChannelManger"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("methodChannel"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("invokeMethod")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'methodName'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//methodName是与原生端一起定好的方法名")]),t._v("\n")])])]),e("h2",{attrs:{id:"weexbox通信"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#weexbox通信"}},[t._v("#")]),t._v(" WeexBox通信")]),t._v(" "),e("p",[t._v("由于weexBox中使用了weex与flutter，为了统一weex，flutter，native三端的通信，我们提供了以下解决方案。")]),t._v(" "),e("img",{attrs:{src:a(214)}}),t._v(" "),e("h3",{attrs:{id:"路由的跳转"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路由的跳转"}},[t._v("#")]),t._v(" 路由的跳转")]),t._v(" "),e("p",[t._v("在weexBox中跳转flutter界面同样采用路由的方式，并且与原来的路由跳转没有区别，只需要将router.name改为flutter，url传入flutter模块中定好的flutter路径。")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("先在RouterManager定义flutter路径\n"),e("img",{attrs:{src:a(215)}})])]),t._v(" "),e("li",[e("p",[t._v("flutter页面跳转flutter")])])]),t._v(" "),e("div",{staticClass:"language-dart extra-class"},[e("pre",{pre:!0,attrs:{class:"language-dart"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" router "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Router")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nrouter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Router"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nameFlutter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//Router.nameFlutter = "flutter"')]),t._v("\nrouter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test_fade_app'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nrouter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sss'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sss'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nrouter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navBarHidden "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nrouter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("ul",[e("li",[t._v("weex页面跳转flutter")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("native"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("router"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'flutter'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 隐藏导航栏")]),t._v("\n  navBarHidden"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  url"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test_fade_app'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  params"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'modify'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("h3",{attrs:{id:"事件通知"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事件通知"}},[t._v("#")]),t._v(" 事件通知")]),t._v(" "),e("p",[t._v("weexbox中的flutter、weex和native都支持全局事件通知， 任一端注册事件，任一端发送事件。下面是flutter的注册事件和发送事件，weex的事件注册与通知请查看weex章节。")]),t._v(" "),e("div",{staticClass:"language-dart extra-class"},[e("pre",{pre:!0,attrs:{class:"language-dart"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 发送事件")]),t._v("\nEvent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("emit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'eventName'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'k'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vbbbb'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注册事件")]),t._v("\nEvent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("register")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'eventName'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//print(event); ")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注销事件")]),t._v("\nEvent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("unregister")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eventName"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注销当前页面全部事件")]),t._v("\nEvent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("unregisterAll")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);